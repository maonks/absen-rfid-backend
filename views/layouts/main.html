

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Absensi RFID</title>

  <!-- HTMX -->
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-100" hx-boost="false">

<div class="flex min-h-screen">

  <!-- SIDEBAR -->
  <aside id="sidebar"
    class="bg-slate-900 text-white w-16 hover:w-56 transition-all duration-300 group flex flex-col">

    <!-- LOGO -->
    <div class="p-4 text-lg font-bold text-center border-b border-slate-700">
      <span class="group-hover:hidden">ğŸ“¡</span>
      <span class="hidden group-hover:block">Absensi RFID</span>
    </div>

    <!-- MENU -->
    <nav class="flex-1 mt-4 space-y-1">

      <a href="/" 
        hx-boost="false"
        class="flex items-center gap-3 px-4 py-3 hover:bg-slate-700">
        <span>ğŸ </span>
        <span class="hidden group-hover:block">Dashboard</span>
      </a>

      <a href="/siswa"
        hx-boost="false"
        class="flex items-center gap-3 px-4 py-3 hover:bg-slate-700">
        <span>ğŸ‘¨â€ğŸ“</span>
        <span class="hidden group-hover:block">Data Siswa</span>
      </a>

      <a href="/perhitungan"
        hx-boost="false"
        class="flex items-center gap-3 px-4 py-3 hover:bg-slate-700">
        <span>ğŸ“Š</span>
        <span class="hidden group-hover:block">Perhitungan</span>
      </a>

    </nav>

    <!-- FOOTER -->
    <div class="p-3 text-xs text-center text-slate-400">
      <span class="hidden group-hover:block">
        Â© 2026 RFID System
      </span>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="flex-1 p-6">
    {{ embed }}
  </main>

</div>
<script>
const ws = new WebSocket("ws://192.168.1.100:8000/websocket");

ws.onopen = () => {
  console.log("âœ… WS CONNECTED");
};

ws.onmessage = (e) => {
  console.log("ğŸ“¡ WS MESSAGE:", e.data);

  const table = document.getElementById("absen-table");
  if (table) {
    htmx.trigger(table, "reload");
  }

    

    
    

};

ws.onerror = (e) => {
  console.error("âŒ WS ERROR", e);
};

ws.onclose = () => {
  console.log("ğŸ”´ WS CLOSED");
};
</script>


</body>
</html>
